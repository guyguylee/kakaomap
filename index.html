<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>부동산GPT 지도검색</title>
  <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=8c5fbd54b6d882c2387c4bc6e499c906&libraries=services"></script>
  <style>
    html, body { height:100%; margin:0; padding:0; font-family:sans-serif; }
    #topBar {
      position:absolute; top:8px; left:8px; right:8px;
      display:flex; align-items:center;
      justify-content: center;
      z-index:10;
    }
    #searchBox {
      width: 95%;
      height: 64px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 12px;
      display: flex;
      align-items: center;
      padding: 0 16px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    #keyword {
      flex: 1;
      border: none;
      outline: none;
      font-size: 20px;
      background: transparent;
    }
    #searchButton {
      background: none;
      border: none;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    #map {
      position:absolute; top:0; left:0; right:0; bottom:0; z-index:1;
    }
  </style>
</head>
<body>

<div id="topBar">
  <div id="searchBox">
    <input type="text" id="keyword" placeholder="검색어를 입력하세요" />
    <button id="searchButton" onclick="searchPlaces()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#555" viewBox="0 0 24 24">
        <path d="M9.5 3a6.5 6.5 0 014.897 10.672l4.966 4.966-1.415 1.414-4.966-4.965A6.5 6.5 0 119.5 3zm0 2a4.5 4.5 0 100 9 4.5 4.5 0 000-9z"/>
      </svg>
    </button>
  </div>
</div>

<div id="map"></div>

<script>
  const map = new kakao.maps.Map(
    document.getElementById('map'),
    { center: new kakao.maps.LatLng(37.49334,127.06672), level:3 }
  );
  const ps = new kakao.maps.services.Places();

  function searchPlaces(){
    const kw = document.getElementById('keyword').value.trim();
    if(!kw) return alert('검색어를 입력하세요.');
    ps.keywordSearch(kw, placesSearchCB);
  }

  function placesSearchCB(data, status){
    if(status===kakao.maps.services.Status.OK){
      const p = data[0];
      map.setCenter(new kakao.maps.LatLng(p.y, p.x));
    } else {
      alert('검색 결과가 없습니다.');
    }
  }
</script>

</body>
</html>
